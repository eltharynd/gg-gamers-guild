import{a as Q}from"./chunk-KEDHRJ76.js";import{E as se,F as y,G as w,H as k,I,K as S,Z as pe,_ as de,d as re,g as ae,h as Z,i as J,k as K,l as oe,o as ce}from"./chunk-NZ4LHV34.js";import{$b as $,$c as W,Ab as x,Eb as j,Hb as N,Hc as G,Ic as ie,Jb as P,Jc as V,Lc as H,Rb as c,Tb as C,Ub as te,Uc as X,Vc as q,Ya as p,Yc as g,Za as M,Zc as E,_b as R,_c as Y,bc as U,cc as B,ea as h,fa as T,g as O,ia as z,ja as A,nb as b,pb as l,qa as L,qc as ne,rb as ee,yb as a,zb as o}from"./chunk-AGJLDZAF.js";var me=(()=>{let e=class e{constructor(){}ngOnInit(){return O(this,null,function*(){})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h({type:e,selectors:[["app-about"]],decls:1,vars:0,template:function(t,i){t&1&&c(0,`About Works!
`)}});let n=e;return n})();function xe(n,e){if(n&1){let s=j();a(0,"button",9),N("click",function(){z(s);let t=P().$implicit,i=P();return A(i.add(t))}),c(1," ADD "),o()}}function Oe(n,e){if(n&1&&x(0,"app-table",10),n&2){let s=e.$implicit;l("table",s)}}function be(n,e){if(n&1&&(a(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),c(3),b(4,xe,2,0,"button",7),o(),a(5,"mat-card-subtitle"),c(6),o()(),a(7,"mat-card-content"),b(8,Oe,1,1,"app-table",8),o()()),n&2){let s=e.$implicit,r=e.index,t=P();p(3),C(" Tavoli del ",r+1,"\xB0 Round "),p(),l("ngIf",t.auth==null||t.auth.authenticatedUser==null?null:t.auth.authenticatedUser.admin),p(2),te("",s.start," - ",s.end,""),p(2),l("ngForOf",s.tables)}}var Pe=n=>({"background-image":n}),ye=()=>({}),ue=(()=>{let e=class e{constructor(r,t,i,m){this.data=r,this.auth=t,this.cdr=i,this.activatedRoute=m,this.pictureURL=`${K.API_BASE_URL}uploads/`,this.id=0}ngOnInit(){return O(this,null,function*(){let r=yield this.data.get(`events/${this.activatedRoute.snapshot.paramMap.get("eventId")}`);if(r){for(let t of r.rounds)for(let i of t.tables)i.parties=[];for(let t of r.rounds){let i=[],m=parseInt((Math.random()*3).toFixed(0))+1;for(let u=0;u<m;u++){let D=[],d=parseInt((Math.random()*2).toFixed(0));for(let f=0;f<d;f++)D.push({name:`Follower${this.id++}`});i.push({leader:{name:`Leader${this.id++}`},partners:D,registered:new Date})}t.parties=i}for(let t of r.rounds)this.sortParties(t);this.event=r}})}add(r){let t=[],i=parseInt((Math.random()*2).toFixed(0));for(let u=0;u<i;u++)t.push({name:`Follower${this.id++}`});r.parties.push({leader:{name:`Leader${this.id++}`},partners:t,registered:new Date}),this.sortParties(r);let m=this.event;this.event=null,this.cdr.detectChanges(),this.event=m}sortParties(r){let t=r.tables,i=[...r.parties].sort((m,u)=>u.partners.length-m.partners.length===0?new Date(m.registered).getTime()-new Date(u.registered).getTime():u.partners.length-m.partners.length);for(t.forEach(m=>m.parties=[]);i.length;){let m=i.splice(0,1),u=t.sort((d,f)=>f.parties.map(v=>v.partners.length+1).reduce((v,_)=>v+_,0)-d.parties.map(v=>v.partners.length+1).reduce((v,_)=>v+_,0)),D=m.map(d=>d.partners.length+1).reduce((d,f)=>d+f,0);for(let d of u){let f=d.parties.map(_=>_.partners.length+1).reduce((_,Ce)=>_+Ce,0),v=f+D;if(f<d.minimumSeats||v<d.minimumSeats){d.parties=d.parties.concat(m);break}else u.indexOf(d)===u.length-1&&(d.parties=d.parties.concat(m))}}}};e.\u0275fac=function(t){return new(t||e)(M(Q),M(oe),M(ne),M(re))},e.\u0275cmp=h({type:e,selectors:[["app-event"]],decls:14,vars:10,consts:[[1,"event","medium"],[1,"title"],[1,"picture",3,"ngStyle"],[1,"desc","centered"],[1,"text"],["class","round",4,"ngFor","ngForOf"],[1,"round"],["mat-raised-button","","color","primary","style","margin-left: 2rem",3,"click",4,"ngIf"],["class","table",3,"table",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",2,"margin-left","2rem",3,"click"],[1,"table",3,"table"]],template:function(t,i){t&1&&(a(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),c(3),o(),a(4,"mat-card-subtitle"),c(5),U(6,"date"),o()(),a(7,"mat-card-content")(8,"div")(9,"div",2)(10,"div",3)(11,"div",4),c(12),o()()()()()(),b(13,be,9,5,"mat-card",5)),t&2&&(p(3),C(" ",i.event==null?null:i.event.title," "),p(2),C(" ",B(6,5,i.event==null?null:i.event.date)," "),p(4),l("ngStyle",i.event!=null&&i.event.picture?$(7,Pe,"url("+i.pictureURL+i.event.picture+")"):R(9,ye)),p(3),C(" ",i.event==null?null:i.event.description," "),p(),l("ngForOf",i.event==null?null:i.event.rounds))},dependencies:[G,ie,V,se,y,k,S,I,w,ce,H],styles:[".event[_ngcontent-%COMP%]{margin-bottom:2rem}.event[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{transform-origin:top center}.event[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{position:relative}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{background-image:url(/assets/skeletons/event.png);background-position:center;background-size:cover;width:100%;aspect-ratio:1;margin-top:1rem;display:flex;flex-direction:column;justify-content:space-between}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{flex-grow:1;padding:1rem 2rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:1rem;padding:1rem 2rem;flex-grow:1;white-space:break-spaces;-webkit-backdrop-filter:blur(2px) brightness(.6) sepia(.1);backdrop-filter:blur(2px) brightness(.6) sepia(.1);color:#fff}@media screen and (max-width: 600px){.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1 rem}}@media only screen and (max-width: 600px){.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{padding:1cm .5rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:1rem;padding:1rem .5rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:3rem;padding:.1rem}}.round[_ngcontent-%COMP%]{margin-bottom:1rem}.round[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}"]});let n=e;return n})();var we=n=>({"background-image":n}),ke=()=>({});function Ie(n,e){if(n&1){let s=j();a(0,"mat-card",1)(1,"mat-card-header",2),N("click",function(){let i=z(s).$implicit;return A(i.expanded=!i.expanded)}),a(2,"mat-card-title",3),c(3),o(),a(4,"mat-card-subtitle"),c(5),U(6,"date"),o(),a(7,"div",4),x(8,"mat-icon",5),o()(),a(9,"mat-card-content")(10,"div")(11,"div",6)(12,"div",7)(13,"div",8),c(14),o()(),a(15,"div",9),x(16,"mat-icon",10),o()()()()()}if(n&2){let s=e.$implicit,r=P();l("@popIn",void 0),p(3),C(" ",s.title," "),p(2),C(" ",B(6,11,s.date)," "),p(3),ee("expanded",!!s.expanded),l("fontIcon","expand_more")("inline",!0),p(),l("@expansion",!!s.expanded),p(2),l("ngStyle",s.picture?$(13,we,"url("+r.pictureURL+s.picture+")"):R(15,ke)),p(3),C(" ",s.description," "),p(),l("routerLink",""+s._id)}}var ge=(()=>{let e=class e{constructor(r){this.data=r,this.pictureURL=`${K.API_BASE_URL}uploads/`}ngOnInit(){return O(this,null,function*(){this.events=yield this.data.get("events")})}};e.\u0275fac=function(t){return new(t||e)(M(Q))},e.\u0275cmp=h({type:e,selectors:[["app-events"]],decls:1,vars:1,consts:[["class","event small",4,"ngFor","ngForOf"],[1,"event","small"],[3,"click"],[1,"title"],[1,"expander"],[3,"fontIcon","inline"],[1,"picture",3,"ngStyle"],[1,"desc","centered"],[1,"text"],[1,"arrow",3,"routerLink"],["aria-hidden","false","aria-label","Apri","fontIcon","chevron_right","inline","true"]],template:function(t,i){t&1&&b(0,Ie,17,16,"mat-card",0),t&2&&l("ngForOf",i.events)},dependencies:[G,V,y,k,S,I,w,pe,ae,H],styles:[".event[_ngcontent-%COMP%]{cursor:pointer}.event[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{transform-origin:top center}.event[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{position:relative}.event[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{position:absolute;right:1rem;font-size:2rem;top:calc(50% - .5rem)}.event[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:all .2s ease}.event[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%] > .expanded[_ngcontent-%COMP%]{transform:rotate(-180deg)}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{background-image:url(/assets/skeletons/event.png);background-position:center;background-size:cover;width:100%;aspect-ratio:1;margin-top:1rem;display:flex;flex-direction:column;justify-content:space-between}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{flex-grow:1;padding:1rem 2rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:1rem;padding:1rem 2rem;flex-grow:1;white-space:break-spaces;-webkit-backdrop-filter:blur(2px) brightness(.6) sepia(.1);backdrop-filter:blur(2px) brightness(.6) sepia(.1);color:#fff}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding-right:.8rem;padding-bottom:.8rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:4rem;padding:.5rem;color:#fff;-webkit-backdrop-filter:blur(2px) brightness(.7) sepia(.1);backdrop-filter:blur(2px) brightness(.7) sepia(.1);border-radius:50%}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover > mat-icon[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(2px) brightness(.8) sepia(.1);backdrop-filter:blur(2px) brightness(.8) sepia(.1);transform-origin:center;transform:scale(1.1)}@media only screen and (max-width: 600px){.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{padding:1cm .5rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:1rem;padding:1rem .5rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:3rem;padding:.1rem}}"],data:{animation:[J,X("expansion",[E("true",g({opacity:1,"max-height":"100vh"})),E("false",g({opacity:0,"max-height":0})),W("false => true",q("750ms ease",Y([g({opacity:0,"max-height":0}),g({opacity:0,"max-height":"100vh"}),g({opacity:1,"max-height":"100vh"})]))),W("true => false",q("750ms ease",Y([g({opacity:1,"max-height":"100vh"}),g({opacity:0,"max-height":"100vh"}),g({opacity:0,"max-height":0})])))]),X("opacity",[E("true",g({opacity:1})),E("false",g({opacity:0})),W("false <=> true",q("1000ms ease"))])]}});let n=e;return n})();var fe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h({type:e,selectors:[["app-home"]],decls:15,vars:1,consts:[[1,"medium"]],template:function(t,i){t&1&&(a(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),c(3,"COMING SOON!"),o(),a(4,"mat-card-subtitle"),c(5," We're hard at work to bring you an awesome service! "),o()(),a(6,"mat-card-content")(7,"p"),c(8,"La GG Gamer's Guild Lugano ti da il benvenuto!"),o(),a(9,"p"),c(10," Su questo sito potrai scoprari di pi\xFA su di noi, e riservare posti per gli eventi che organizziamo! "),x(11,"br"),c(12," L'idea \xE8 quella di rendere pi\xFA facile la prenotazione, e allo stesso modo di smistare meglio i tavoli lasciandovi per\xF3 la possibilit\xE0 di giocare coi vosti amici. "),o(),a(13,"p"),c(14,"Torna pi\xFA tardi per scoprire quanto sar\xE0 cambiato!!!"),o()()()),t&2&&l("@popIn",void 0)},dependencies:[y,k,S,I,w],data:{animation:[J]}});let n=e;return n})();var Se=[{path:"",component:fe},{path:"about",component:me},{path:"events",component:ge},{path:"events/:eventId",component:ue}],ve=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T({type:e}),e.\u0275inj=L({imports:[Z.forChild(Se),Z]});let n=e;return n})();var st=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T({type:e}),e.\u0275inj=L({imports:[de,ve]});let n=e;return n})();export{st as PagesModule};
