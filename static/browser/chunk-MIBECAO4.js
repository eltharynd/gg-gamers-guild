import{a as W}from"./chunk-WJ7YU5UW.js";import{B as z,C as G,D as L,E as q,F as H,H as V,W as B,f as w,g as $,m as A}from"./chunk-HCXCIWYQ.js";import{Ab as _,Eb as P,Gc as N,Hb as D,Jb as I,Rb as s,Tb as T,Ub as k,Ya as h,Za as F,ea as v,fa as x,g as b,ia as E,ja as S,nb as y,pb as g,pc as j,qa as M,yb as d,zb as l}from"./chunk-PZCEOLTQ.js";var R=(()=>{let e=class e{constructor(){}ngOnInit(){return b(this,null,function*(){})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-about"]],decls:1,vars:0,template:function(t,a){t&1&&s(0,`About Works!
`)}});let i=e;return i})();function X(i,e){if(i&1&&_(0,"app-table",9),i&2){let c=e.$implicit;g("table",c)}}function Y(i,e){if(i&1){let c=P();d(0,"div",4)(1,"div",5)(2,"div"),s(3),l(),d(4,"button",6),D("click",function(){let a=E(c).$implicit,r=I(2);return S(r.add(a))}),s(5,"ADD"),l()(),d(6,"div",7),y(7,X,1,1,"app-table",8),l()()}if(i&2){let c=e.$implicit;h(3),k("",c.start," - ",c.end,""),h(4),g("ngForOf",c.tables)}}function Z(i,e){if(i&1&&(d(0,"div",1)(1,"div",2),s(2),l(),y(3,Y,8,3,"div",3),l()),i&2){let c=e.$implicit;h(2),T(" ",c.title," "),h(),g("ngForOf",c.rounds)}}var J=(()=>{let e=class e{constructor(n,t){this.data=n,this.cdr=t,this.id=0}ngOnInit(){return b(this,null,function*(){let n=yield this.data.get("events");for(let t of n)for(let a of t.rounds)for(let r of a.tables)r.parties=[];for(let t of n)for(let a of t.rounds){let r=[],p=parseInt((Math.random()*3).toFixed(0))+1;for(let C=0;C<p;C++){let o=[],f=parseInt((Math.random()*2).toFixed(0));for(let m=0;m<f;m++)o.push({name:`Follower${this.id++}`});r.push({leader:{name:`Leader${this.id++}`},partners:o,registered:new Date})}a.parties=r}for(let t of n)for(let a of t.rounds)this.sortParties(a);this.events=n})}add(n){let t=[],a=parseInt((Math.random()*2).toFixed(0));for(let p=0;p<a;p++)t.push({name:`Follower${this.id++}`});n.parties.push({leader:{name:`Leader${this.id++}`},partners:t,registered:new Date}),this.sortParties(n);let r=this.events;this.events=[],this.cdr.detectChanges(),this.events=r}sortParties(n){let t=n.tables,a=[...n.parties].sort((r,p)=>p.partners.length-r.partners.length===0?new Date(r.registered).getTime()-new Date(p.registered).getTime():p.partners.length-r.partners.length);for(t.forEach(r=>r.parties=[]);a.length;){let r=a.splice(0,1),p=t.sort((o,f)=>f.parties.map(m=>m.partners.length+1).reduce((m,u)=>m+u,0)-o.parties.map(m=>m.partners.length+1).reduce((m,u)=>m+u,0)),C=r.map(o=>o.partners.length+1).reduce((o,f)=>o+f,0);for(let o of p){let f=o.parties.map(u=>u.partners.length+1).reduce((u,U)=>u+U,0),m=f+C;if(f<o.minimumSeats||m<o.minimumSeats){o.parties=o.parties.concat(r);break}else p.indexOf(o)===p.length-1&&(o.parties=o.parties.concat(r))}}}};e.\u0275fac=function(t){return new(t||e)(F(W),F(j))},e.\u0275cmp=v({type:e,selectors:[["app-events"]],decls:1,vars:1,consts:[["class","event pagination",4,"ngFor","ngForOf"],[1,"event","pagination"],[1,"title"],["class","round",4,"ngFor","ngForOf"],[1,"round"],[1,"time"],["mat-raised-button","","color","accent",3,"click"],[1,"tables"],[3,"table",4,"ngFor","ngForOf"],[3,"table"]],template:function(t,a){t&1&&y(0,Z,4,2,"div",0),t&2&&g("ngForOf",a.events)},dependencies:[N,z,A],styles:[".event[_ngcontent-%COMP%]{background-color:#0003;border-radius:2rem;padding:1rem;display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.event[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.event[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{background-color:#0003;border-radius:2rem}.event[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.5rem;font-weight:700;display:flex;align-items:center;justify-content:space-between}.event[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   .tables[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1rem}"]});let i=e;return i})();var K=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-home"]],decls:15,vars:1,consts:[[1,"medium"]],template:function(t,a){t&1&&(d(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),s(3,"COMING SOON!"),l(),d(4,"mat-card-subtitle"),s(5," We're hard at work to bring you an awesome service! "),l()(),d(6,"mat-card-content")(7,"p"),s(8,"La GG Gamer's Guild Lugano ti da il benvenuto!"),l(),d(9,"p"),s(10," Su questo sito potrai scoprari di pi\xFA su di noi, e riservare posti per gli eventi che organizziamo! "),_(11,"br"),s(12," L'idea \xE8 quella di rendere pi\xFA facile la prenotazione, e allo stesso modo di smistare meglio i tavoli lasciandovi per\xF3 la possibilit\xE0 di giocare coi vosti amici. "),l(),d(13,"p"),s(14,"Torna pi\xFA tardi per scoprire quanto sar\xE0 cambiato!!!"),l()()()),t&2&&g("@popIn",void 0)},dependencies:[G,q,V,H,L],data:{animation:[$]}});let i=e;return i})();var ee=[{path:"",component:K},{path:"about",component:R},{path:"events",component:J}],Q=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x({type:e}),e.\u0275inj=M({imports:[w.forChild(ee),w]});let i=e;return i})();var Fe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x({type:e}),e.\u0275inj=M({imports:[B,Q]});let i=e;return i})();export{Fe as PagesModule};
