import{a as X}from"./chunk-LEDM2TAJ.js";import{E as se,F as O,G as P,H as w,I as k,K as S,Z as pe,_ as ce,d as re,g as ae,h as te,i as K,k as Q,o as oe}from"./chunk-UO6XULM2.js";import{$b as z,$c as J,Ab as x,Eb as j,Hb as A,Hc as G,Jb as N,Jc as H,Lc as q,Rb as u,Tb as _,Ub as ie,Uc as Z,Vc as W,Ya as g,Yc as v,Za as M,Zc as I,_b as R,_c as ee,bc as B,cc as U,ea as b,fa as D,g as y,ia as T,ja as L,nb as F,pb as h,qa as $,qc as V,rb as ne,yb as c,zb as d}from"./chunk-AGJLDZAF.js";var de=(()=>{let t=class t{constructor(){}ngOnInit(){return y(this,null,function*(){})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b({type:t,selectors:[["app-about"]],decls:1,vars:0,template:function(e,i){e&1&&u(0,`About Works!
`)}});let r=t;return r})();function be(r,t){if(r&1&&x(0,"app-table",9),r&2){let l=t.$implicit;h("table",l)}}function xe(r,t){if(r&1){let l=j();c(0,"div",4)(1,"div",5)(2,"div"),u(3),d(),c(4,"button",6),A("click",function(){let i=T(l).$implicit,o=N();return L(o.add(i))}),u(5," ADD "),d()(),c(6,"div",7),F(7,be,1,1,"app-table",8),d()()}if(r&2){let l=t.$implicit;g(3),ie("",l.start," - ",l.end,""),g(4),h("ngForOf",l.tables)}}var Me=r=>({"background-image":r}),_e=()=>({}),me=(()=>{let t=class t{constructor(n,e,i){this.data=n,this.cdr=e,this.activatedRoute=i,this.pictureURL=`${Q.API_BASE_URL}uploads/`,this.id=0}ngOnInit(){return y(this,null,function*(){let n=yield this.data.get(`events/:${this.activatedRoute.params.eventId}`);for(let e of n.rounds)for(let i of e.tables)i.parties=[];for(let e of n.rounds){let i=[],o=parseInt((Math.random()*3).toFixed(0))+1;for(let s=0;s<o;s++){let C=[],a=parseInt((Math.random()*2).toFixed(0));for(let m=0;m<a;m++)C.push({name:`Follower${this.id++}`});i.push({leader:{name:`Leader${this.id++}`},partners:C,registered:new Date})}e.parties=i}for(let e of n.rounds)this.sortParties(e);this.event=n})}add(n){let e=[],i=parseInt((Math.random()*2).toFixed(0));for(let s=0;s<i;s++)e.push({name:`Follower${this.id++}`});n.parties.push({leader:{name:`Leader${this.id++}`},partners:e,registered:new Date}),this.sortParties(n);let o=this.event;this.event=null,this.cdr.detectChanges(),this.event=o}sortParties(n){let e=n.tables,i=[...n.parties].sort((o,s)=>s.partners.length-o.partners.length===0?new Date(o.registered).getTime()-new Date(s.registered).getTime():s.partners.length-o.partners.length);for(e.forEach(o=>o.parties=[]);i.length;){let o=i.splice(0,1),s=e.sort((a,m)=>m.parties.map(p=>p.partners.length+1).reduce((p,f)=>p+f,0)-a.parties.map(p=>p.partners.length+1).reduce((p,f)=>p+f,0)),C=o.map(a=>a.partners.length+1).reduce((a,m)=>a+m,0);for(let a of s){let m=a.parties.map(f=>f.partners.length+1).reduce((f,Y)=>f+Y,0),p=m+C;if(m<a.minimumSeats||p<a.minimumSeats){a.parties=a.parties.concat(o);break}else s.indexOf(a)===s.length-1&&(a.parties=a.parties.concat(o))}}}};t.\u0275fac=function(e){return new(e||t)(M(X),M(V),M(re))},t.\u0275cmp=b({type:t,selectors:[["app-event"]],decls:10,vars:9,consts:[[1,"event","medium"],[1,"title"],[1,"picture",3,"ngStyle"],["class","round",4,"ngFor","ngForOf"],[1,"round"],[1,"time"],["mat-raised-button","","color","accent",3,"click"],[1,"tables"],[3,"table",4,"ngFor","ngForOf"],[3,"table"]],template:function(e,i){e&1&&(c(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),u(3),d(),c(4,"mat-card-subtitle"),u(5),B(6,"date"),d()(),c(7,"mat-card-content"),x(8,"div",2),F(9,xe,8,3,"div",3),d()()),e&2&&(g(3),_(" ",i.event.title," "),g(2),_(" ",U(6,4,i.event.date)," "),g(3),h("ngStyle",i.event.picture?z(6,Me,"url("+i.pictureURL+i.event.picture+")"):R(8,_e)),g(),h("ngForOf",i.event.rounds))},dependencies:[G,H,se,O,w,S,k,P,oe,q],styles:[".event[_ngcontent-%COMP%]{margin-bottom:2rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{background-image:url(/assets/skeletons/event.png);background-position:center;background-size:cover;width:100%;aspect-ratio:1}.event[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{background-color:#0003;border-radius:2rem}.event[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.5rem;font-weight:700;display:flex;align-items:center;justify-content:space-between}.event[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   .tables[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;padding:1rem}"]});let r=t;return r})();var ye=r=>({"background-image":r}),Oe=()=>({});function Pe(r,t){if(r&1){let l=j();c(0,"mat-card",1)(1,"mat-card-header",2),A("click",function(){let i=T(l).$implicit;return L(i.expanded=!i.expanded)}),c(2,"mat-card-title",3),u(3),d(),c(4,"mat-card-subtitle"),u(5),B(6,"date"),d(),c(7,"div",4),x(8,"mat-icon",5),d()(),c(9,"mat-card-content",6)(10,"div")(11,"div",7)(12,"div",8)(13,"div",9),u(14),d()(),c(15,"div",10),x(16,"mat-icon",11),d()()()()()}if(r&2){let l=t.$implicit,n=N();h("@popIn",void 0),g(3),_(" ",l.title," "),g(2),_(" ",U(6,11,l.date)," "),g(3),ne("expanded",!!l.expanded),h("fontIcon","expand_more")("inline",!0),g(),h("@expansion",!!l.expanded),g(2),h("ngStyle",l.picture?z(13,ye,"url("+n.pictureURL+l.picture+")"):R(15,Oe)),g(3),_(" ",l.description," "),g(),h("routerLink",""+l._id)}}var ue=(()=>{let t=class t{constructor(n,e){this.data=n,this.cdr=e,this.pictureURL=`${Q.API_BASE_URL}uploads/`,this.id=0}ngOnInit(){return y(this,null,function*(){let n=yield this.data.get("events");for(let e of n)for(let i of e.rounds)for(let o of i.tables)o.parties=[];for(let e of n)for(let i of e.rounds){let o=[],s=parseInt((Math.random()*3).toFixed(0))+1;for(let C=0;C<s;C++){let a=[],m=parseInt((Math.random()*2).toFixed(0));for(let p=0;p<m;p++)a.push({name:`Follower${this.id++}`});o.push({leader:{name:`Leader${this.id++}`},partners:a,registered:new Date})}i.parties=o}for(let e of n)for(let i of e.rounds)this.sortParties(i);this.events=n})}add(n){let e=[],i=parseInt((Math.random()*2).toFixed(0));for(let s=0;s<i;s++)e.push({name:`Follower${this.id++}`});n.parties.push({leader:{name:`Leader${this.id++}`},partners:e,registered:new Date}),this.sortParties(n);let o=this.events;this.events=[],this.cdr.detectChanges(),this.events=o}sortParties(n){let e=n.tables,i=[...n.parties].sort((o,s)=>s.partners.length-o.partners.length===0?new Date(o.registered).getTime()-new Date(s.registered).getTime():s.partners.length-o.partners.length);for(e.forEach(o=>o.parties=[]);i.length;){let o=i.splice(0,1),s=e.sort((a,m)=>m.parties.map(p=>p.partners.length+1).reduce((p,f)=>p+f,0)-a.parties.map(p=>p.partners.length+1).reduce((p,f)=>p+f,0)),C=o.map(a=>a.partners.length+1).reduce((a,m)=>a+m,0);for(let a of s){let m=a.parties.map(f=>f.partners.length+1).reduce((f,Y)=>f+Y,0),p=m+C;if(m<a.minimumSeats||p<a.minimumSeats){a.parties=a.parties.concat(o);break}else s.indexOf(a)===s.length-1&&(a.parties=a.parties.concat(o))}}}};t.\u0275fac=function(e){return new(e||t)(M(X),M(V))},t.\u0275cmp=b({type:t,selectors:[["app-events"]],decls:1,vars:1,consts:[["class","event small",4,"ngFor","ngForOf"],[1,"event","small"],[3,"click"],[1,"title"],[1,"expander"],[3,"fontIcon","inline"],[1,"test"],[1,"picture",3,"ngStyle"],[1,"desc","centered"],[1,"text"],[1,"arrow",3,"routerLink"],["aria-hidden","false","aria-label","Apri","fontIcon","chevron_right","inline","true"]],template:function(e,i){e&1&&F(0,Pe,17,16,"mat-card",0),e&2&&h("ngForOf",i.events)},dependencies:[G,H,O,w,S,k,P,pe,ae,q],styles:[".event[_ngcontent-%COMP%]{margin-bottom:2rem;cursor:pointer}.event[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{transform-origin:top center}.event[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{position:relative}.event[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{position:absolute;right:1rem;font-size:2rem;top:calc(50% - .5rem)}.event[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:all .2s ease}.event[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%] > .expanded[_ngcontent-%COMP%]{transform:rotate(-180deg)}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{background-image:url(/assets/skeletons/event.png);background-position:center;background-size:cover;width:100%;aspect-ratio:1;margin-top:1rem;display:flex;flex-direction:column;justify-content:space-between}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{flex-grow:1;padding:1rem 2rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:1rem;padding:1rem 2rem;flex-grow:1;white-space:break-spaces;-webkit-backdrop-filter:blur(2px) brightness(.6) sepia(.1);backdrop-filter:blur(2px) brightness(.6) sepia(.1);color:#fff}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding-right:.8rem;padding-bottom:.8rem}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:4rem;padding:.5rem;color:#fff;-webkit-backdrop-filter:blur(2px) brightness(.7) sepia(.1);backdrop-filter:blur(2px) brightness(.7) sepia(.1);border-radius:50%}.event[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover > mat-icon[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(2px) brightness(.8) sepia(.1);backdrop-filter:blur(2px) brightness(.8) sepia(.1);transform-origin:center;transform:scale(1.1)}"],data:{animation:[K,Z("expansion",[I("true",v({opacity:1,"max-height":"100vh"})),I("false",v({opacity:0,"max-height":0})),J("false => true",W("750ms ease",ee([v({opacity:0,"max-height":0}),v({opacity:0,"max-height":"100vh"}),v({opacity:1,"max-height":"100vh"})]))),J("true => false",W("750ms ease",ee([v({opacity:1,"max-height":"100vh"}),v({opacity:0,"max-height":"100vh"}),v({opacity:0,"max-height":0})])))]),Z("opacity",[I("true",v({opacity:1})),I("false",v({opacity:0})),J("false <=> true",W("1000ms ease"))])]}});let r=t;return r})();var fe=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b({type:t,selectors:[["app-home"]],decls:15,vars:1,consts:[[1,"medium"]],template:function(e,i){e&1&&(c(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),u(3,"COMING SOON!"),d(),c(4,"mat-card-subtitle"),u(5," We're hard at work to bring you an awesome service! "),d()(),c(6,"mat-card-content")(7,"p"),u(8,"La GG Gamer's Guild Lugano ti da il benvenuto!"),d(),c(9,"p"),u(10," Su questo sito potrai scoprari di pi\xFA su di noi, e riservare posti per gli eventi che organizziamo! "),x(11,"br"),u(12," L'idea \xE8 quella di rendere pi\xFA facile la prenotazione, e allo stesso modo di smistare meglio i tavoli lasciandovi per\xF3 la possibilit\xE0 di giocare coi vosti amici. "),d(),c(13,"p"),u(14,"Torna pi\xFA tardi per scoprire quanto sar\xE0 cambiato!!!"),d()()()),e&2&&h("@popIn",void 0)},dependencies:[O,w,S,k,P],data:{animation:[K]}});let r=t;return r})();var we=[{path:"",component:fe},{path:"about",component:de},{path:"events",component:ue},{path:"events/:eventId",component:me}],ge=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=D({type:t}),t.\u0275inj=$({imports:[te.forChild(we),te]});let r=t;return r})();var rt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=D({type:t}),t.\u0275inj=$({imports:[ce,ge]});let r=t;return r})();export{rt as PagesModule};
